{"version":3,"file":"index.js","sources":["../src/js/burgerMenu.js","../src/js/cookies.js","../src/js/faq.js","../src/js/scroll-up-btn.js","../src/js/animation-stone.js"],"sourcesContent":["const openBtnEl = document.querySelector('[data-action=\"open\"]');\nconst closeBtnEl = document.querySelector('[data-action=\"close\"]');\nconst burgerMenuEl = document.querySelector('[data-visible]');\n\nopenBtnEl.addEventListener('click', e => {\n  burgerMenuEl.dataset.visible = 'open';\n\n  burgerMenuEl.addEventListener('click', handleCloseMenu);\n  document.body.style.overflow = 'hidden';\n  setTimeout(() => {\n    document.addEventListener('click', handleClickOutside);\n  });\n});\n\ncloseBtnEl.addEventListener('click', closeMenu);\n\nfunction handleCloseMenu(e) {\n  if (e.target.nodeName !== 'A') {\n    return;\n  }\n  closeMenu();\n}\nfunction handleClickOutside(e) {\n  if (burgerMenuEl.contains(e.target) || openBtnEl.contains(e.target)) {\n    return;\n  }\n  closeMenu();\n}\n\nfunction closeMenu() {\n  document.body.style.overflow = '';\n  burgerMenuEl.dataset.visible = 'close';\n  burgerMenuEl.removeEventListener('click', handleCloseMenu);\n  document.removeEventListener('click', handleClickOutside);\n}\n","const savedCookie = localStorage.getItem('cookies');\nif (savedCookie === null) {\n  setTimeout(openNodal, 2000);\n}\nconst modalEl = document.querySelector('[data-cookie=\"close\"]');\nfunction openNodal() {\n  modalEl.dataset.cookie = 'open';\n  document.body.style.overflow = 'hidden';\n  modalEl.addEventListener('click', handleCookieBtn);\n}\n\nfunction handleCookieBtn(e) {\n  if (!e.target.dataset.info) {\n    return;\n  }\n  const cookie = e.target.dataset.info;\n  localStorage.setItem(\n    'cookies',\n    JSON.stringify(cookie === 'accept' ? true : false)\n  );\n  document.body.style.overflow = '';\n  modalEl.dataset.cookie = 'close';\n  modalEl.removeEventListener('click', handleCookieBtn);\n}\n","const faqData = [\n  {\n    faq: 1,\n    title: 'Is Crystal Temple completely free to play?',\n    text: 'Yes, Crystal Temple is free to download and play. The core gameplay, including access to all main levels and boosters, does not require any payment. Players can enjoy over 2000 levels without spending money. However, there are optional in-app purchases such as extra boosters, additional lives, and coin packs for those who want to progress faster or enhance their experience. These purchases are entirely voluntary and never mandatory to complete the game. We’ve designed the game to be fair for both free and paying users. All levels are beatable without spending money.',\n  },\n  {\n    faq: 2,\n    title: 'Can I play Crystal Temple without an internet connection?',\n    text: 'Absolutely. Crystal Temple was developed with offline functionality in mind. Once the game is downloaded, players can enjoy the full gameplay experience without requiring a constant internet connection. This includes access to all levels, boosters you’ve already collected, and progression through temple zones. The only features that require internet are related to cloud saving, syncing across devices, or participating in leaderboard-based events. For travelers, commuters, and offline players, the game is fully accessible on-the-go. Just make sure to reconnect occasionally if you want to back up your progress online.',\n  },\n  {\n    faq: 3,\n    title: 'How often are new levels or content added to the game?',\n    text: 'We are committed to keeping Crystal Temple fresh and exciting. New levels, temple zones, and seasonal events are typically added every 3 to 4 weeks. Each update includes new crystal mechanics, themed puzzles, and occasional secret chamber unlocks. We also use player feedback and completion data to guide our level design, ensuring that updates are both fun and challenging. Players can enable push notifications to be alerted when new content is live. You can always find update logs and previews in our blog or app store listing.',\n  },\n  {\n    faq: 4,\n    title: 'I’m stuck on a level. What should I do?',\n    text: \"Certain levels in Crystal Temple are designed to be more challenging than others, especially in advanced zones. If you're stuck, consider replaying a previous level to earn more boosters or use the daily reward system to your advantage. Combining multiple booster types is often key to solving difficult puzzles. Also, review the level objective carefully—some levels require collection, others target block destruction or score goals. If you feel something isn’t working as intended, reach out via our support email for help or a bug report. We’re happy to assist players who hit unexpected issues.\",\n  },\n  {\n    faq: 5,\n    title: 'How does the daily reward system work?',\n    text: \"Each day you open the game, you're eligible for a reward. These can include free boosters, crystal coins, or even special keys for unlocking secret chambers. The rewards increase in value the more consecutive days you log in, encouraging consistent play. If you miss a day, the reward track resets, but you can resume earning the next time you return. Occasionally, there are seasonal or event-based calendars that replace or enhance the daily rewards. Always check the home screen for new bonus opportunities—it’s a great way to get ahead without spending money.\",\n  },\n  {\n    faq: 6,\n    title: 'What are secret chambers, and how can I access them?',\n    text: 'Secret chambers are special hidden rooms scattered across the Crystal Temple map. They often contain bonus levels, rare artifact pieces, or unique visual rewards. To unlock them, you usually need to collect specific keys or reach certain progression milestones. Some are revealed automatically as you clear normal levels, while others appear only during events. Chambers typically feature unique challenges that differ from regular levels, such as timed puzzles or multi-board scenarios. Exploring them is optional but offers additional lore, coins, and a deeper connection to the game’s narrative.',\n  },\n  {\n    faq: 7,\n    title: 'Will I lose my progress if I switch to a new device?',\n    text: 'Your progress can be saved and transferred if you link your game to a cloud service such as Google Play or Facebook. Once your account is connected, your game data—including completed levels, unlocked boosters, and coin balance—will be stored securely. When switching devices, simply log in with the same linked account to restore your progress. If you play entirely offline without linking, your progress is stored locally and may be lost if you uninstall or reset your phone. For the best long-term experience, we strongly recommend enabling cloud sync. You’ll find the option in the settings menu of the game.',\n  },\n  {\n    faq: 8,\n    title: 'Are there any advertisements in Crystal Temple?',\n    text: 'Yes, there are ads, but they are completely optional. Watching short video ads can earn you extra boosters, additional moves, or revive opportunities without spending in-game currency. We believe in rewarding players who choose to engage with ads while never forcing them. There are no interruptions between levels or during gameplay unless you choose to watch an ad for a bonus. We’ve kept ads minimal and focused on providing value. This approach allows players who don’t wish to spend money to still earn meaningful advantages.',\n  },\n  {\n    faq: 9,\n    title: 'Can I play Crystal Temple with friends or compare scores?',\n    text: 'Currently, Crystal Temple focuses on solo exploration, but there are social elements in development. Our leaderboard system allows you to see how your score or progress compares to other global players. In future updates, we plan to roll out friend challenges and score races that let you compete directly with others. You’ll be able to share scores and invite friends to explore the temple together in asynchronous events. For now, you can connect your account to view global rankings and track your percentile as new levels are added.',\n  },\n  {\n    faq: 10,\n    title: 'What makes Crystal Temple different from other match-3 games?',\n    text: 'Crystal Temple combines classic match-3 gameplay with a strong sense of exploration and progression. Instead of being a purely level-by-level puzzle game, it features unlockable zones, hidden paths, lore, and strategic elements through boosters and relics. The design is immersive, with hand-crafted visuals and soundscapes that make each region feel unique. We also prioritize fair mechanics over pay-to-win strategies. Our team continuously analyzes player feedback to improve puzzles, balance difficulty, and enhance the narrative-driven experience. In short, it’s a puzzle game built for thinkers, explorers, and treasure hunters alike.',\n  },\n  {\n    faq: 11,\n    title: 'How do I report a bug or give feedback?',\n    text: \"We welcome all feedback and actively respond to bug reports and suggestions. If something isn't working properly or you want to request a new feature, simply send an email to info@crystaltemple.space with as much detail as possible. Include your device type, game version, and a screenshot if available. Our support team typically replies within 24 to 48 hours on weekdays. Player feedback has led to some of our best updates, so your voice truly matters. Whether it’s a gameplay glitch or a creative idea, we want to hear from you.\",\n  },\n];\n\nconst btnOpenAllEl = document.querySelector('[data-faq=\"open-all-faq\"]');\nconst btnCloseAllEl = document.querySelector('[data-faq=\"close-all-faq\"]');\nconst modalOverlayEl = document.querySelector('.modal-overlay-faq');\nconst modalListEl = document.querySelector('.modal-list');\nconst listFaqEl = document.querySelector('[data-list=\"list\"]');\nconst listMainFaqEl = document.querySelector('.faq-list');\nconst textFaqEl = document.querySelector('[data-action=\"\"]');\n\n\nrenderMainFaq(faqData);\n\nlistFaqEl.addEventListener('click', event => {\n  const moreBtn = event.target.closest('[data-faq][data-action-btn-more]');\n  const closeBtn = event.target.closest('.faq-btn-close')\n  if (moreBtn) {\n\n    const faqItem = moreBtn.closest('.faq-item');\n    if (!faqItem) return;\n\n  const faqText = faqItem.querySelector('.faq-text');\n  const closeBtnEl = faqItem.querySelector('[data-faq-close]')\n\n  faqText.dataset.action = 'open';\n  moreBtn.dataset.actionBtnMore ='close';\n  closeBtnEl.setAttribute('data-faq-close', 'open');\n\n  return;\n  }\n\n  if(closeBtn){\n    const faqItem = closeBtn.closest('.faq-item')\n    if (!faqItem) return;\n\n    const faqText = faqItem.querySelector('.faq-text');\n    const closeBtnEl = faqItem.querySelector('[data-faq-close]')\n    const moreBtnEl = faqItem.querySelector('[data-action-btn-more]')\n\n    faqText.dataset.action = 'close';\n    moreBtnEl.dataset.actionBtnMore ='open';\n    closeBtnEl.setAttribute('data-faq-close', 'close');\n  }\n\n});\n\nbtnOpenAllEl.addEventListener('click', event => {\n  renderModalFaq(faqData);\n  openModalFaq();\n});\n\nbtnCloseAllEl.addEventListener('click', event => {\n  closeModalFaq();\n});\n\nfunction openModalFaq() {\n  modalOverlayEl.classList.add('is-open-modal-faq');\n  document.documentElement.style.overflow = 'hidden';\n  document.addEventListener('keydown', handleEscKey);\n}\n\nfunction closeModalFaq() {\n  modalOverlayEl.classList.remove('is-open-modal-faq');\n  modalListEl.innerHTML = '';\n  document.documentElement.style.overflow = '';\n  document.removeEventListener('keydown', handleEscKey);\n  modalListEl.innerHTML = '';\n}\n\nfunction handleEscKey(e) {\n  if (e.key === 'Escape') {\n    closeModalFaq();\n  }\n}\n\nfunction renderModalFaq(Data) {\n  const markup = Data.map(({ title, text }) => {\n    return `<li class=\"modal-item\">\n            <p class=\"modal-faq-title\">${title}</p>\n            <p class=\"modal-faq-text\">${text}</p>\n          </li>`;\n  }).join('');\n  modalListEl.innerHTML = markup;\n}\n\nfunction renderMainFaq(faqData) {\n  const markup = faqData.map(({ faq, title, text }, index) => {\n    if (index >= 7) return '';\n\n    const addclass = index >= 5 ? 'faq-item-desktop' : '';\n    return `<li class=\"faq-item ${addclass}\">\n          <button class=\"faq-btn-close\" data-faq-close=\"close\">\n          <svg class=\"faq-btn-close-icon\" width=\"20\" height=\"20\">\n          <use href=\"/img/sprite.svg#icon_close_btn\"></use>\n          </svg>\n        </button>\n        <p class=\"faq-title\">${title}</p>\n        <p class=\"faq-text\" data-action=\"close\">${text}</p>\n        <button class=\"faq-button\" type=\"button\" data-faq=\"${faq}\" data-action-btn-more=\"open\">More</button>\n      </li>`;\n  }).join('');\n  listMainFaqEl.innerHTML = markup;\n}\n","const openScrollUpBtn = document.querySelector('[data-scroll-up-btn]');\n\nopenScrollUpBtn.addEventListener('click', handleScrollBtn);\n\nwindow.addEventListener('scroll', () => {\n  if (window.scrollY > 700) {\n    openScrollUpBtn.dataset.scrollUpBtn = 'open';\n    openScrollUpBtn.addEventListener('click', handleScrollBtn);\n  } else {\n    openScrollUpBtn.dataset.scrollUpBtn = 'close';\n    openScrollUpBtn.removeEventListener('click', handleScrollBtn);\n  }\n});\n\nfunction handleScrollBtn() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n","const wrapper = document.querySelector('.stone-wrapper');\nlet step = 0;\n\nfunction animateStones() {\n  step += 1;\n\n  const positions = [\n    `top 30px  left calc(50% + ${180 + Math.cos(step / 180) * 300}px)`,\n    `top 460px left calc(50% + 151px)`,\n    ` top 370px left calc(50% - 129px)`,\n    ` top 250px left calc(50% - 20px)`,\n    `top 370px left calc(50% + 468px)`,\n    `top 455px left calc(50% + 320px)`,\n    ` top 520px left calc(50% + 452px)`,\n    `top ${930 + Math.sin(step / 220) * 280}px left calc(50% - \n      190px)`,\n    `top ${940 + Math.sin(step / 180) * 300}px left calc(50% + ${\n      190 + Math.cos(step / 22) * 3\n    }px)`,\n    ` top 1135px left calc(50% + 550px)`,\n    ` top 1277px left calc(50% - 245px)`,\n    `top 1325px  left  calc(50% + ${140 + Math.cos(step / 180) * 320}px)`,\n    `top 1295px left calc(50% + 270px)`,\n  ];\n\n  wrapper.style.backgroundPosition = positions.join(', ');\n  requestAnimationFrame(animateStones);\n}\n\nanimateStones();\n"],"names":["openBtnEl","closeBtnEl","burgerMenuEl","handleCloseMenu","handleClickOutside","closeMenu","savedCookie","openNodal","modalEl","handleCookieBtn","cookie","faqData","btnOpenAllEl","btnCloseAllEl","modalOverlayEl","modalListEl","listFaqEl","listMainFaqEl","renderMainFaq","event","moreBtn","closeBtn","faqItem","faqText","moreBtnEl","renderModalFaq","openModalFaq","closeModalFaq","handleEscKey","Data","markup","title","text","faq","index","openScrollUpBtn","handleScrollBtn","wrapper","step","animateStones","positions"],"mappings":"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"}